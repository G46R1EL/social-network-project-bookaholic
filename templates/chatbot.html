{% extends "base.html" %}

{% block content %}
    <h2>Chatbot de Ajuda</h2>
    <p>Olá! Sou o assistente do Bookaholic. Como posso te ajudar hoje?</p>

    <div id="chat-window" style="border: 1px solid #ccc; padding: 10px; height: 200px; overflow-y: scroll; margin-bottom: 10px; background-color: #f9f9f9;">
        {% if question %}
            <p><strong>Você:</strong> {{ question }}</p>
            <p><strong>Bot:</strong> {{ answer }}</p>
        {% else %}
            <p><strong>Bot:</strong> Por favor, faça uma pergunta usando o campo abaixo ou clique em uma das sugestões.</p>
        {% endif %}
    </div>

    <form method="POST" action="">
        <input type="text" name="question" size="50" placeholder="Digite sua pergunta aqui...">
        <button type="submit">Enviar</button>
    </form>

    <hr>

    <h4>Perguntas Sugeridas:</h4>
    <ul>
        {% for q in available_questions %}
            {# Usamos um pouco de JavaScript para preencher o campo de texto ao clicar na sugestão #}
            <li><a href="#" onclick="document.querySelector('input[name=question]').value='{{ q }}'; return false;">{{ q.capitalize() }}</a></li>
        {% endfor %}
    </ul>

{% endblock %}